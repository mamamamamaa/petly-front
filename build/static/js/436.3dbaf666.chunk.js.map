{"version":3,"file":"static/js/436.3dbaf666.chunk.js","mappings":"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","sources":["utils/searchBar/searchBar.styled.jsx","utils/searchBar/searchBar.jsx","pages/NewsPage.styled.jsx","pages/NewsPage.jsx"],"sourcesContent":["import styled from '@emotion/styled';\r\nimport { Form, Field } from 'formik';\r\n\r\nexport const Search = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const FormEl = styled(Form)`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nexport const Input = styled(Field)`\r\n  outline: none;\r\n  border-radius: 24px;\r\n  color: #535353;\r\n  background-color: #fff;\r\n  border: 1px solid #fff;\r\n  font-weight: 500px;\r\n\r\n  @media screen and (max-width: 767px) {\r\n    font-size: 16px;\r\n    line-height: 1.4;\r\n    width: 280px;\r\n    padding-left: 12px;\r\n    height: 36px;\r\n  }\r\n  @media screen and (min-width: 768px) {\r\n    font-size: 20px;\r\n    line-height: 1.2;\r\n    width: 584px;\r\n    padding-left: 20px;\r\n    height: 40px;\r\n  }\r\n`;\r\n\r\nexport const SearchFormButton = styled.button`\r\n  position: absolute;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  background-color: #fff;\r\n  border: 1px solid #fff;\r\n  color: black;\r\n  cursor: pointer;\r\n  outline: none;\r\n  border-radius: 50%;\r\n\r\n  &:hover {\r\n    background-color: #d4d1d1;\r\n  }\r\n  @media screen and (max-width: 767px) {\r\n    height: 38px;\r\n    width: 38px;\r\n    left: 86%;\r\n  }\r\n  @media screen and (min-width: 768px) {\r\n    height: 42px;\r\n    width: 42px;\r\n    left: 93.5%;\r\n  }\r\n`;\r\n\r\nexport const InputBox = styled.div`\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  @media screen and (max-width: 767px) {\r\n    width: 280px;\r\n  }\r\n`;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Suspense } from 'react';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport { Outlet } from 'react-router-dom';\r\n// ============= styled ===============\r\nimport { GoSearch } from 'react-icons/go';\r\nimport { Formik } from 'formik';\r\nimport {\r\n  Search,\r\n  FormEl,\r\n  Input,\r\n  SearchFormButton,\r\n  InputBox,\r\n} from './searchBar.styled';\r\n// ====================================\r\n\r\nexport default function SearchBar({ onSubmit }) {\r\n  const [searchParams] = useSearchParams();\r\n  const handleSubmit = async (values, actions) => {\r\n    await onSubmit(values);\r\n    actions.setSubmitting(false);\r\n  };\r\n  return (\r\n    <Search as=\"main\">\r\n      <Formik\r\n        initialValues={{ query: searchParams.get('query') || '' }}\r\n        onSubmit={handleSubmit}\r\n      >\r\n        {({ isSubmitting }) => (\r\n          <FormEl>\r\n            <InputBox>\r\n              <Input\r\n                name=\"query\"\r\n                type=\"text\"\r\n                autoComplete=\"off\"\r\n                autoFocus\r\n                placeholder=\"Search\"\r\n              />\r\n              <SearchFormButton type=\"submit\" disabled={isSubmitting}>\r\n                <GoSearch />\r\n              </SearchFormButton>\r\n            </InputBox>\r\n          </FormEl>\r\n        )}\r\n      </Formik>\r\n      <Suspense fallback={null}>\r\n        <Outlet />\r\n      </Suspense>\r\n    </Search>\r\n  );\r\n}\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Container = styled.div`\r\n  padding-top: 42px;\r\n  padding-bottom: 200px;\r\n  display: flex;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  @media screen and (min-width: 768px) and (max-width: 1279px) {\r\n    padding-top: 90px;\r\n  }\r\n  @media screen and (min-width: 1280px) {\r\n    padding-top: 70px;\r\n  }\r\n`;\r\n\r\nexport const MainHeader = styled.h1`\r\n  margin-top: 0;\r\n  margin-bottom: 28px;\r\n  font-weight: 700;\r\n  font-size: 48px;\r\n  color: #111111;\r\n  font-size: 24px;\r\n  @media screen and (min-width: 768px) {\r\n    font-size: 40px;\r\n    margin-bottom: 40px;\r\n  }\r\n`;\r\n\r\nexport const Ul = styled.ul`\r\n  display: flex;\r\n  justify-content: center;\r\n  padding: 0;\r\n  margin-top: 40px;\r\n  margin-bottom: 0;\r\n  @media screen and (max-width: 767px) {\r\n    flex-direction: column;\r\n  }\r\n  @media screen and (min-width: 768px) {\r\n    gap: 35px;\r\n    margin-top: 60px;\r\n    flex-wrap: wrap;\r\n  }\r\n`;\r\n\r\nexport const Li = styled.li`\r\n  list-style: none;\r\n  /* outline: 2px solid red; */\r\n  margin-bottom: 40px;\r\n  width: 280px;\r\n  padding-left: 0px;\r\n  padding-right: 0px;\r\n\r\n  @media screen and (max-width: 767px) {\r\n    &:last-child {\r\n      margin-bottom: 0;\r\n    }\r\n  }\r\n  @media screen and (min-width: 768px) and (max-width: 1279px) {\r\n    width: 335px;\r\n    &:nth-child(-n + 2) {\r\n      margin-bottom: 25px;\r\n    }\r\n  }\r\n  @media screen and (min-width: 1280px) {\r\n    width: 395px;\r\n    &:nth-child(-n + 3) {\r\n      margin-bottom: 60px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const Box = styled.div``;\r\n\r\nexport const ColorBox = styled.div`\r\n  height: 8px;\r\n  border-radius: 40px;\r\n  background: linear-gradient(90deg, #ff634e 0%, #ffdf48 105.44%);\r\n  margin-bottom: 4px;\r\n\r\n  @media screen and (max-width: 767px) {\r\n    width: 200px;\r\n  }\r\n  @media screen and (min-width: 768px) and (max-width: 1279px) {\r\n    width: 280px;\r\n  }\r\n  @media screen and (min-width: 1280px) {\r\n    width: 340px;\r\n  }\r\n`;\r\n\r\nexport const Header = styled.h2`\r\n  height: 55px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  font-weight: 700;\r\n  font-size: 24px;\r\n  color: #111111;\r\n  -webkit-line-clamp: 2; /* Число отображаемых строк */\r\n  display: -webkit-box; /* Включаем флексбоксы */\r\n  -webkit-box-orient: vertical; /* Вертикальная ориентация */\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const Paragraph = styled.p`\r\n  margin: 0;\r\n  height: 167px;\r\n  overflow: hidden;\r\n  margin-top: 16px;\r\n  margin-bottom: 20px;\r\n  font-weight: 400;\r\n  font-size: 16px;\r\n  color: #111321;\r\n  -webkit-line-clamp: 9; /* Число отображаемых строк */\r\n  display: -webkit-box; /* Включаем флексбоксы */\r\n  -webkit-box-orient: vertical; /* Вертикальная ориентация */\r\n  @media screen and (min-width: 768px) {\r\n    margin-bottom: 40px;\r\n    height: 130px;\r\n    -webkit-line-clamp: 7; /* Число отображаемых строк */\r\n  }\r\n`;\r\n\r\nexport const Wraper = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`;\r\n\r\nexport const DateBox = styled.div`\r\n  font-weight: 400;\r\n  font-size: 16px;\r\n  color: rgba(17, 17, 17, 0.6);\r\n`;\r\n\r\nexport const Button = styled.button`\r\n  font-weight: 500;\r\n  font-size: 16px;\r\n  background-color: transparent;\r\n  border: 1px solid transparent;\r\n  color: #f59256;\r\n`;\r\n","import { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport toast, { Toaster } from 'react-hot-toast';\nimport { useSearchParams } from 'react-router-dom';\n// =======\nimport SearchBar from '../utils/searchBar/searchBar';\nimport {\n  Container,\n  MainHeader,\n  Ul,\n  Li,\n  Box,\n  ColorBox,\n  Header,\n  Paragraph,\n  Wraper,\n  DateBox,\n  Button,\n} from './NewsPage.styled';\n// =======\n\n// ================= запрос\nexport async function fetchSearchNews(query) {\n  const { data } = await axios.get(\n    `http://localhost:3001/api/news?query=${query}`\n  );\n  return data;\n}\n\n// ================= логика\nexport default function NewsPage() {\n  const [searchNews, setSearchNews] = useState([]);\n  const [query, setQuery] = useState('animals');\n  const [error, setError] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  console.log(searchParams);\n  useEffect(() => {\n    async function fetchNews(query) {\n      try {\n        setIsLoading(true);\n        const response = await fetchSearchNews(query);\n        const news = response.data.result.value;\n        const total = response.data.result.totalCount;\n        if (total === 0) {\n          toast.error(\n            'Sorry, there are no news matching your query. Please try again.'\n          );\n          return;\n        }\n        setSearchNews(news);\n      } catch {\n        setError('Can`t load news!');\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    fetchNews(query);\n  }, [query]);\n  useEffect(() => {\n    if (error !== false) {\n      toast.error(error);\n    }\n  }, [error]);\n  const handlerFormSubmit = values => {\n    if (query !== values.query.trim()) {\n      setSearchNews([]);\n      setQuery(values.query.trim());\n      setError(false);\n      setIsLoading(false);\n      setSearchParams({ query: values.query });\n    }\n  };\n  return (\n    <Container>\n      <MainHeader>News</MainHeader>\n      <SearchBar onSubmit={handlerFormSubmit} />\n      {isLoading && <h2>... Загрузка</h2>}\n      <ListNews news={searchNews} />\n      <Toaster />\n    </Container>\n  );\n}\n\n// ================= функция разметки\nfunction ListNews({ news }) {\n  return (\n    <Ul>\n      {news.map(item => (\n        <Li key={item.id}>\n          <Box>\n            <ColorBox></ColorBox>\n            <Header>{item.title}</Header>\n            <Paragraph>{item.body}</Paragraph>\n            <Wraper>\n              <DateBox>{item.datePublished}</DateBox>\n              <Button>Read more</Button>\n            </Wraper>\n          </Box>\n        </Li>\n      ))}\n    </Ul>\n  );\n}\n"],"names":["Search","styled","FormEl","Form","Input","Field","SearchFormButton","InputBox","SearchBar","onSubmit","useSearchParams","searchParams","handleSubmit","values","actions","setSubmitting","as","initialValues","query","get","isSubmitting","name","type","autoComplete","autoFocus","placeholder","disabled","Suspense","fallback","Container","MainHeader","Ul","Li","Box","ColorBox","Header","Paragraph","Wraper","DateBox","Button","fetchSearchNews","axios","data","NewsPage","useState","searchNews","setSearchNews","setQuery","error","setError","isLoading","setIsLoading","setSearchParams","console","log","useEffect","response","news","result","value","totalCount","toast","fetchNews","trim","ListNews","map","item","title","body","datePublished","id"],"sourceRoot":""}